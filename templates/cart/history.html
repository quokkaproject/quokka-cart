
{% extends theme("base.html") %}

{% block page_header %}
<div class="large-12 columns">
  <div class="page-header">
    <h1> Cart history </h1>
  </div>
</div>
{% endblock %}

{% block content %}
<div class="large-12 columns">

  <a href="{{url_for('quokka.modules.cart.cart')}}" class="button btn">Cart</a>
  <table class="table table-striped table-hover table-condensed">
      <thead>
          <tr>
            <th> Reference </th>
            <th> Status </th>
            <th> Items </th>
            <th> Amount </th>
            <th> Checkout code </th>
            <th> Created </th>
          </tr>
      </thead>
      <tbody>
      {% for cart in carts %}
          <tr>
              <td>{{cart.get_uid()}}</td>
              <td>{{cart.status}}</td>
              <td>
                Items: {{cart.items.count()}}<br>
                <ul>
                    {% for item in cart.items %}
                        <li>{{ item }}</li>
                    {% endfor %}
                </ul>
              </td>
              <td>$ {{ "%.2f" % cart.total}}</td>
              <td>{{cart.checkout_code}}</td>
              <td>{{cart.created_at}}</td>
          </tr>
      {% endfor %}
      </tbody>
  </table>
</div>
{% endblock %}
